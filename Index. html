<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cscstudentdb | Student Management</title>
    <style>
        /* Modern Design & Layout */
        :root {
            --primary: #1a73e8;
            --success: #1e8e3e; /* Good - Green */
            --warning: #f9ab00; /* Avg - Yellow */
            --danger: #d93025;  /* Danger - Red */
            --bg: #f8f9fa;
        }

        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: var(--bg); margin: 0; padding: 20px; color: #3c4043; }
        .container { max-width: 800px; margin: auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        
        h1 { font-size: 24px; color: var(--primary); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 0; }
        
        /* Form Styling */
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        label { font-weight: bold; font-size: 14px; display: block; margin-bottom: 5px; }
        input, select { width: 100%; padding: 10px; border: 1px solid #dadce0; border-radius: 6px; box-sizing: border-box; }
        
        .upload-section { background: #f1f3f4; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        
        button { width: 100%; background: var(--primary); color: white; border: none; padding: 12px; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 16px; }
        button:hover { background: #1557b0; }

        /* Output Table Styling */
        table { width: 100%; border-collapse: collapse; margin-top: 30px; }
        th { background: #f8f9fa; padding: 12px; text-align: left; border-bottom: 2px solid #eee; }
        td { padding: 12px; border-bottom: 1px solid #eee; }

        .status-badge { padding: 5px 10px; border-radius: 4px; color: white; font-size: 12px; font-weight: bold; }
        .bg-good { background: var(--success); }
        .bg-avg { background: var(--warning); }
        .bg-danger { background: var(--danger); }
    </style>
</head>
<body>

<div class="container">
    <h1>Cscstudentdb - Teacher Portal</h1>
    
    <div class="form-grid">
        <div>
            <label>Student Name</label>
            <input type="text" id="stuName" placeholder="Enter Name">
        </div>
        <div>
            <label>Roll Number</label>
            <input type="text" id="stuRoll" placeholder="Enter Roll No">
        </div>
        <div>
            <label>Department</label>
            <select id="stuDept">
                <option value="CSC">Computer Science</option>
                <option value="IT">Information Technology</option>
                <option value="ECE">Electronics</option>
            </select>
        </div>
        <div>
            <label>Attendance Percentage (%)</label>
            <input type="number" id="stuPerc" placeholder="e.g. 88">
        </div>
    </div>

    <div class="upload-section">
        <label>Semester Marksheet (Upload Certificate)</label>
        <input type="file" id="marksheet">
        <br><br>
        <label>OD Certificate</label>
        <input type="file" id="odCert">
    </div>

    <button onclick="processData()">Generate Student Profile</button>

    <table>
        <thead>
            <tr>
                <th>Roll No</th>
                <th>Name</th>
                <th>Dept</th>
                <th>Attendance</th>
                <th>Status</th>
                <th>Marks</th>
            </tr>
        </thead>
        <tbody id="recordList">
            </tbody>
    </table>
</div>

<script>
    function processData() {
        // 1. Get Values
        const name = document.getElementById('stuName').value;
        const roll = document.getElementById('stuRoll').value;
        const dept = document.getElementById('stuDept').value;
        const perc = parseFloat(document.getElementById('stuPerc').value);

        if (!name || !roll || isNaN(perc)) {
            alert("Please fill in all details!");
            return;
        }

        // 2. Status Logic
        let statusText = "";
        let statusClass = "";
        if (perc >= 90) {
            statusText = "90% Good";
            statusClass = "bg-good";
        } else if (perc >= 80) {
            statusText = "80% Avg";
            statusClass = "bg-avg";
        } else if (perc < 70) {
            statusText = "Danger 70%";
            statusClass = "bg-danger";
        } else {
            statusText = perc + "% Normal";
            statusClass = "bg-avg";
        }

        // 3. Mark Allocation Logic
        let marks = "0m";
        if (perc >= 95 && perc <= 100) marks = "5m";
        else if (perc >= 85) marks = "4m";
        else if (perc >= 75) marks = "3m";
        else if (perc >= 65) marks = "2m";
        else if (perc >= 60) marks = "1m";

        // 4. Create Table Row
        const table = document.getElementById('recordList');
        const row = `
            <tr>
                <td>${roll}</td>
                <td>${name}</td>
                <td>${dept}</td>
                <td>${perc}%</td>
                <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                <td><strong>${marks}</strong></td>
            </tr>
        `;
        
        table.innerHTML += row;

        // Clear Inputs
        document.getElementById('stuName').value = "";
        document.getElementById('stuRoll').value = "";
        document.getElementById('stuPerc').value = "";
    }
</script>

</body>
</html>
        <div class="form-group">
            <label>Department</label>
            <select id="sDept">
                <option>CSC</option>
                <option>IT</option>
                <option>ECE</option>
            </select>
        </div>
        <div class="form-group">
            <label>Attendance Percentage</label>
            <input type="number" id="sPerc" placeholder="e.g. 85">
        </div>
        <button onclick="saveStudent()">Save & Generate Profile</button>
    </div>

    <div class="result-area" id="list">
        </div>

    <script>
        function saveStudent() {
            const name = document.getElementById('sName').value;
            const roll = document.getElementById('sRoll').value;
            const dept = document.getElementById('sDept').value;
            const perc = parseFloat(document.getElementById('sPerc').value);

            if(!name || !roll || isNaN(perc)) return alert("Fill all fields");

            // Status Logic
            let status = "Danger 70%";
            let sClass = "status-danger";
            let bColor = "#dc2626";
            if(perc >= 90) { status = "90% Good"; sClass = "status-good"; bColor = "#16a34a"; }
            else if(perc >= 80) { status = "80% Avg"; sClass = "status-avg"; bColor = "#f59e0b"; }

            // Marks Logic
            let marks = "0m";
            if(perc >= 95) marks = "5m";
            else if(perc >= 85) marks = "4m";
            else if(perc >= 75) marks = "3m";
            else if(perc >= 65) marks = "2m";
            else if(perc >= 60) marks = "1m";

            const html = `
                <div class="student-item ${sClass}">
                    <div style="display:flex; justify-content:between; align-items:center">
                        <strong>${name} (${roll})</strong>
                        <span class="badge" style="background:${bColor}; margin-left:auto">${status}</span>
                    </div>
                    <p style="margin: 5px 0; font-size:0.9rem">Dept: ${dept} | Marks: <b>${marks}</b></p>
                    <div style="font-size:0.8rem; color:#64748b">Uploads: Marksheet ✅ | Certificate ✅</div>
                </div>
            `;
            
            document.getElementById('list').innerHTML += html;
            
            // Clear inputs
            document.getElementById('sName').value = "";
            document.getElementById('sRoll').value = "";
            document.getElementById('sPerc').value = "";
        }
    </script>
</body>
</html>
    
    <div class="input-grid">
        <input type="text" id="name" placeholder="Student Name">
        <input type="text" id="roll" placeholder="Roll Number">
        <select id="dept">
            <option value="Computer Science">Computer Science</option>
            <option value="IT">IT</option>
            <option value="ECE">ECE</option>
        </select>
        <input type="number" id="attendance" placeholder="Attendance %">
    </div>

    <div class="upload-box">
        <label>Upload Marksheet (PDF/JPG):</label>
        <input type="file" id="marksheet">
        <label>Upload Certificate (OD):</label>
        <input type="file" id="cert">
    </div>

    <button onclick="addStudent()">Save Student Data</button>

    <h3>Student Database</h3>
    <div style="overflow-x:auto;">
        <table>
            <thead>
                <tr>
                    <th>Roll No</th>
                    <th>Name</th>
                    <th>Dept</th>
                    <th>Attnd %</th>
                    <th>Status</th>
                    <th>Bonus</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                </tbody>
        </table>
    </div>
    
    <button class="clear-btn" onclick="clearDatabase()">Reset Database</button>
</div>

<script>
    // JAVASCRIPT LOGIC
    window.onload = function() {
        renderTable();
    };

    function addStudent() {
        const name = document.getElementById('name').value;
        const roll = document.getElementById('roll').value;
        const dept = document.getElementById('dept').value;
        const attnd = parseFloat(document.getElementById('attendance').value);

        if (!name || !roll || isNaN(attnd)) {
            alert("Please enter all details correctly.");
            return;
        }

        // 1. Determine Status
        let statusClass = "";
        let statusText = "";
        if (attnd >= 90) { statusText = "90% Good"; statusClass = "good"; }
        else if (attnd >= 80) { statusText = "80% Avg"; statusClass = "avg"; }
        else { statusText = "Danger 70%"; statusClass = "danger"; }

        // 2. Mark Allocation Logic
        let marks = "0m";
        if (attnd >= 95) marks = "5m";
        else if (attnd >= 85) marks = "4m";
        else if (attnd >= 75) marks = "3m";
        else if (attnd >= 65) marks = "2m";
        else if (attnd >= 60) marks = "1m";

        const studentObj = { name, roll, dept, attnd, statusText, statusClass, marks };

        // Save to LocalStorage
        let db = JSON.parse(localStorage.getItem('csc_db')) || [];
        db.push(studentObj);
        localStorage.setItem('csc_db', JSON.stringify(db));

        // Reset fields and Refresh
        document.getElementById('name').value = '';
        document.getElementById('roll').value = '';
        document.getElementById('attendance').value = '';
        renderTable();
    }

    function renderTable() {
        const db = JSON.parse(localStorage.getItem('csc_db')) || [];
        const tableBody = document.getElementById('tableBody');
        tableBody.innerHTML = "";

        db.forEach(student => {
            tableBody.innerHTML += `
                <tr>
                    <td>${student.roll}</td>
                    <td>${student.name}</td>
                    <td>${student.dept}</td>
                    <td>${student.attnd}%</td>
                    <td><span class="badge ${student.statusClass}">${student.statusText}</span></td>
                    <td><strong>${student.marks}</strong></td>
                </tr>
            `;
        });
    }

    function clearDatabase() {
        if (confirm("Are you sure you want to delete all student records?")) {
            localStorage.removeItem('csc_db');
            renderTable();
        }
    }
</script>

</body>
</html>
